# ============================================
# DATABASE CONFIGURATION
# ============================================
# IMPORTANT: Set DB_PASSWORD environment variable!
spring.datasource.url=jdbc:mysql://localhost:3306/tindigwa
spring.datasource.username=root
spring.datasource.password=${DB_PASSWORD}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

spring.security.debug=false

# ============================================
# SERVER CONFIGURATION
# ============================================
# Running on HTTP for development (SSL disabled temporarily)
server.port=8081

# SSL/TLS Configuration (DISABLED for development)
# TODO: Enable SSL for production deployment
# server.ssl.enabled=true
# server.ssl.key-store=classpath:keystore.p12
# server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD}
# server.ssl.key-store-type=PKCS12
# server.ssl.key-alias=tindigwa
# server.ssl.enabled-protocols=TLSv1.2,TLSv1.3

# ============================================
# EMAIL/SMTP CONFIGURATION (for OTP 2FA)
# ============================================
spring.mail.host=${SMTP_HOST:smtp.gmail.com}
spring.mail.port=${SMTP_PORT:587}
spring.mail.username=${SMTP_USERNAME}
spring.mail.password=${SMTP_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.from.email=${SMTP_FROM_EMAIL:noreply@tindigwa.com}
spring.mail.from.name=${SMTP_FROM_NAME:Tindigwa Loan Management}

# ============================================
# JWT CONFIGURATION
# ============================================
# CRITICAL: Set JWT_SECRET environment variable!
# Generate with: openssl rand -base64 64
jwt.secret=${JWT_SECRET}
jwt.expiration=3600000

# spring.liquibase.change-log=classpath:/db/changelog/db.changelog-master.yaml
spring.liquibase.enabled=false

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# Custom File Storage Configuration
file.upload-dir=./uploads
file.max-file-size=5242880
file.allowed-extensions=jpg,jpeg,png,gif
file.serve-path=/api/images
file.client-photos-dir=client-photos
file.loan-officer-photos-dir=loan-officer-photos
file.documents-dir=documents
file.signatures-dir=signatures
